<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slang Mate - Your Aussie Uncle</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" type="image/png" href="images/logo.png">
</head>
<body>
    <div class="app-container" id="app-container">
        <header class="header">
            <div class="header-top">
                <div class="brand">
                    <img src="images/logo.png" alt="Slang Mate" class="logo" id="logo">
                    <h1>Slang Mate</h1>
                </div>
                <div class="header-stats">
                    <span class="streak-badge" id="streak-badge" title="Daily Streak">üî• <span id="streak-count">0</span></span>
                    <span class="xp-badge" id="xp-badge" title="Experience Points">‚≠ê <span id="xp-count">0</span> XP</span>
                    <span class="level-badge" id="level-badge" title="Current Level">Lvl <span id="level-count">1</span></span>
                </div>
                <div class="header-buttons">
                    <button class="icon-toggle" id="dark-mode-toggle" title="Toggle Dark Mode" aria-label="Toggle dark mode">
                        <span class="theme-icon" aria-hidden="true">üåô</span>
                    </button>
                    <button class="icon-toggle" id="sound-toggle" title="Toggle Sound" aria-label="Toggle sound effects">
                        <span class="sound-on" aria-hidden="true">üîä</span>
                        <span class="sound-off hidden" aria-hidden="true">üîá</span>
                    </button>
                </div>
            </div>
            <div class="search-bar">
                <input type="text" id="search-input" placeholder="What slang are you after, mate?" class="search-input">
                <button class="search-clear hidden" id="search-clear">‚úï</button>
            </div>
            <nav class="mode-selector">
                <button class="mode-btn active" data-mode="flashcards">Flashcards</button>
                <button class="mode-btn" data-mode="quiz">Quiz</button>
                <button class="mode-btn" data-mode="fillblank">Fill Blank</button>
                <button class="mode-btn" data-mode="builder">Builder</button>
                <button class="mode-btn" data-mode="review">Review</button>
                <button class="mode-btn" data-mode="achievements">Badges</button>
            </nav>
        </header>

        <main class="main-content">
            <!-- Flashcard Mode -->
            <section id="flashcards-mode" class="mode-section active">
                <div class="controls-bar">
                    <select id="flashcard-category" class="category-select">
                        <option value="all">All Categories</option>
                    </select>
                    <select id="flashcard-difficulty" class="category-select">
                        <option value="all">All Levels</option>
                        <option value="beginner">Beginner</option>
                        <option value="intermediate">Intermediate</option>
                        <option value="advanced">Advanced</option>
                    </select>
                    <div class="flashcard-controls">
                        <button class="icon-btn" id="shuffle-cards" title="Shuffle Cards" aria-label="Shuffle cards">üîÄ</button>
                        <button class="icon-btn" id="favorite-card" title="Add to Favorites" aria-label="Add to favorites">‚òÜ</button>
                    </div>
                    <span class="card-counter">Card <span id="current-card">1</span> of <span id="total-cards">0</span></span>
                </div>

                <div class="progress-bar-container">
                    <div class="progress-bar" id="flashcard-progress"></div>
                </div>

                <div class="flashcard-container">
                    <div class="flashcard" id="flashcard" role="button" tabindex="0" aria-label="Flashcard - press Enter or Space to flip">
                        <div class="flashcard-inner">
                            <div class="flashcard-front">
                                <span class="difficulty-badge" id="card-difficulty"></span>
                                <span class="term" id="flashcard-term">Loading...</span>
                                <span class="example" id="flashcard-example"></span>
                                <button class="speak-btn" id="speak-term" title="Hear example" aria-label="Hear example sentence">üîà</button>
                            </div>
                            <div class="flashcard-back">
                                <span class="meaning" id="flashcard-meaning"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Voice Practice Section -->
                <div class="voice-practice-section">
                    <div class="voice-practice-controls">
                        <button class="practice-btn" id="practice-speaking" title="Practice Speaking">
                            <span class="mic-icon">üé§</span>
                            <span class="btn-text">Practice Speaking</span>
                            <span class="recording-indicator" id="recording-indicator"></span>
                        </button>
                    </div>
                    <div class="voice-target-sentence" id="voice-target-sentence"></div>
                    <div class="voice-practice-feedback hidden" id="voice-practice-feedback" role="region" aria-live="polite" aria-label="Voice practice results">
                        <div class="voice-transcript" id="voice-transcript"></div>

                        <!-- Multi-Score Display -->
                        <div class="score-breakdown">
                            <div class="score-item">
                                <span class="score-label">Word Accuracy</span>
                                <div class="score-bar">
                                    <div class="score-bar-fill" id="bar-word-accuracy"></div>
                                </div>
                                <span class="score-value" id="score-word-accuracy">0%</span>
                            </div>
                            <div class="score-item">
                                <span class="score-label">Confidence</span>
                                <div class="score-bar">
                                    <div class="score-bar-fill" id="bar-confidence"></div>
                                </div>
                                <span class="score-value" id="score-confidence">0%</span>
                            </div>
                            <div class="score-item">
                                <span class="score-label">Slang Recognition</span>
                                <div class="score-bar">
                                    <div class="score-bar-fill" id="bar-slang-recognition"></div>
                                </div>
                                <span class="score-value" id="score-slang-recognition">0%</span>
                            </div>
                            <div class="score-item">
                                <span class="score-label">Fluency</span>
                                <div class="score-bar">
                                    <div class="score-bar-fill" id="bar-fluency"></div>
                                </div>
                                <span class="score-value" id="score-fluency">0%</span>
                            </div>
                        </div>

                        <!-- Overall Score -->
                        <div class="overall-result">
                            <span class="overall-label">Overall</span>
                            <span class="overall-score" id="overall-score"></span>
                        </div>
                        <div class="voice-message" id="voice-message"></div>

                        <!-- Quick Navigation Buttons -->
                        <div class="voice-feedback-actions">
                            <button class="voice-action-btn" id="voice-try-again">üé§ Try Again</button>
                            <button class="voice-action-btn primary" id="voice-next-card">Next Card ‚Üí</button>
                        </div>
                    </div>
                </div>

                <div class="flashcard-nav">
                    <button class="nav-btn" id="prev-card">Previous</button>
                    <button class="flip-btn" id="flip-card">Flip Card</button>
                    <button class="nav-btn" id="next-card">Next</button>
                </div>
            </section>

            <!-- Quiz Mode -->
            <section id="quiz-mode" class="mode-section">
                <div class="controls-bar">
                    <select id="quiz-category" class="category-select">
                        <option value="all">All Categories</option>
                    </select>
                    <select id="quiz-difficulty" class="category-select">
                        <option value="all">All Levels</option>
                        <option value="beginner">Beginner</option>
                        <option value="intermediate">Intermediate</option>
                        <option value="advanced">Advanced</option>
                    </select>
                    <select id="quiz-direction" class="category-select">
                        <option value="term-to-meaning">Slang ‚Üí Meaning</option>
                        <option value="meaning-to-term">Meaning ‚Üí Slang</option>
                    </select>
                    <label class="timed-toggle">
                        <input type="checkbox" id="timed-mode">
                        <span>‚è±Ô∏è Timed</span>
                    </label>
                </div>

                <div class="quiz-container">
                    <div class="quiz-start" id="quiz-start">
                        <h2>Ready to have a crack?</h2>
                        <p>Let's see how well you know your Aussie slang!</p>
                        <div class="high-score-display">
                            <span>üèÜ Your best: <span id="high-score">0</span></span>
                        </div>
                        <button class="start-btn" id="start-quiz">Let's go!</button>
                    </div>

                    <div class="quiz-question hidden" id="quiz-question">
                        <div class="quiz-timer-container hidden" id="quiz-timer-container" role="timer" aria-live="polite">
                            <div class="timer-display">
                                <span id="timer-text" aria-label="seconds remaining">15</span>s
                            </div>
                            <div class="timer-bar-container">
                                <div class="timer-bar" id="timer-bar"></div>
                            </div>
                        </div>
                        <div class="quiz-progress">
                            <span>Question <span id="quiz-current">1</span> of <span id="quiz-total">10</span></span>
                            <span class="quiz-score">Score: <span id="quiz-score">0</span></span>
                        </div>
                        <div class="question-card">
                            <h2 id="question-text">What does "arvo" mean?</h2>
                            <div class="answer-options" id="answer-options">
                                <!-- Options populated by JS -->
                            </div>
                        </div>
                        <div class="feedback hidden" id="quiz-feedback" role="alert" aria-live="polite">
                            <p id="feedback-text"></p>
                            <button class="next-btn" id="next-question">Next Question</button>
                        </div>
                    </div>

                    <div class="quiz-results hidden" id="quiz-results">
                        <h2>All done!</h2>
                        <div class="results-score">
                            <span class="big-score" id="final-score">0</span>
                            <span class="score-label">out of <span id="final-total">10</span></span>
                        </div>
                        <p id="results-message">Good effort, mate!</p>
                        <button class="start-btn" id="restart-quiz">Have another crack</button>
                    </div>
                </div>
            </section>

            <!-- Fill-in-the-Blank Mode -->
            <section id="fillblank-mode" class="mode-section">
                <div class="controls-bar">
                    <select id="fillblank-difficulty" class="category-select">
                        <option value="all">All Levels</option>
                        <option value="beginner">Beginner</option>
                        <option value="intermediate">Intermediate</option>
                        <option value="advanced">Advanced</option>
                    </select>
                </div>

                <div class="fillblank-container">
                    <div class="fillblank-start" id="fillblank-start">
                        <h2>Fill in the Blank</h2>
                        <p>Pop the right slang word into each sentence!</p>
                        <p class="mode-description">Type the missing word to complete each sentence.</p>
                        <button class="start-btn" id="start-fillblank">Let's go!</button>
                    </div>

                    <div class="fillblank-game hidden" id="fillblank-game">
                        <div class="fillblank-progress">
                            <span>Question <span id="fillblank-current">1</span> of <span id="fillblank-total">10</span></span>
                            <span class="fillblank-score">Score: <span id="fillblank-score">0</span></span>
                        </div>

                        <div class="fillblank-card">
                            <p class="fillblank-sentence" id="fillblank-sentence">Loading sentence...</p>
                            <p class="fillblank-hint" id="fillblank-hint"></p>
                            <div class="fillblank-input-container">
                                <input type="text" id="fillblank-input" class="fillblank-input" placeholder="What's the word, mate?" autocomplete="off">
                                <button class="submit-btn" id="submit-fillblank">Check</button>
                            </div>
                        </div>

                        <div class="fillblank-feedback hidden" id="fillblank-feedback" role="alert" aria-live="polite">
                            <p id="fillblank-feedback-text"></p>
                            <button class="next-btn" id="next-fillblank">Next</button>
                        </div>
                    </div>

                    <div class="fillblank-results hidden" id="fillblank-results">
                        <h2>Game Complete!</h2>
                        <div class="results-score">
                            <span class="big-score" id="fillblank-final-score">0</span>
                            <span class="score-label">out of <span id="fillblank-final-total">10</span></span>
                        </div>
                        <p id="fillblank-results-message">Good effort, mate!</p>
                        <button class="start-btn" id="restart-fillblank">Play Again</button>
                    </div>
                </div>
            </section>

            <!-- Sentence Builder Mode -->
            <section id="builder-mode" class="mode-section">
                <div class="builder-container">
                    <div class="builder-start" id="builder-start">
                        <h2>Sentence Builder</h2>
                        <p>Pick the right slang word for each sentence!</p>
                        <p class="mode-description">Click a word, then click the blank to place it.</p>
                        <button class="start-btn" id="start-builder">Let's build!</button>
                    </div>

                    <div class="builder-game hidden" id="builder-game">
                        <div class="builder-progress">
                            <span>Sentence <span id="builder-current">1</span> of <span id="builder-total">10</span></span>
                            <span class="builder-score">Score: <span id="builder-score">0</span></span>
                        </div>

                        <div class="sentence-card">
                            <p class="sentence-display" id="sentence-display">Loading...</p>
                        </div>

                        <div class="word-bank" id="word-bank">
                            <!-- Words populated by JS -->
                        </div>

                        <div class="builder-controls">
                            <button class="hint-btn" id="hint-btn">üí° Hint</button>
                            <button class="skip-btn" id="skip-sentence">Skip ‚Üí</button>
                        </div>

                        <p class="hint-text hidden" id="hint-text"></p>

                        <div class="builder-feedback hidden" id="builder-feedback" role="alert" aria-live="polite">
                            <p id="builder-feedback-text"></p>
                        </div>
                    </div>

                    <div class="builder-results hidden" id="builder-results">
                        <h2>All done!</h2>
                        <div class="results-score">
                            <span class="big-score" id="builder-final-score">0</span>
                            <span class="score-label">out of <span id="builder-final-total">10</span></span>
                        </div>
                        <p id="builder-results-message">Good effort, mate!</p>
                        <button class="start-btn" id="restart-builder">Have another go</button>
                    </div>
                </div>
            </section>

            <!-- Review Mode (Spaced Repetition) -->
            <section id="review-mode" class="mode-section">
                <div class="review-container">
                    <div class="review-stats" id="review-stats">
                        <h2>Daily Review</h2>
                        <p class="review-intro">Keep coming back to lock in what you've learned!</p>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <span class="stat-number" id="due-today">0</span>
                                <span class="stat-label">Due Today</span>
                            </div>
                            <div class="stat-card">
                                <span class="stat-number" id="total-learned">0</span>
                                <span class="stat-label">Learning</span>
                            </div>
                            <div class="stat-card">
                                <span class="stat-number" id="mastered-count">0</span>
                                <span class="stat-label">Mastered</span>
                            </div>
                        </div>
                        <button class="start-btn" id="start-review">Let's review</button>
                        <button class="reset-btn" id="reset-progress">Start Fresh</button>
                    </div>

                    <div class="review-card hidden" id="review-card">
                        <div class="review-progress">
                            <span>Reviewing: <span id="review-remaining">0</span> cards left</span>
                        </div>
                        <div class="flashcard" id="review-flashcard">
                            <div class="flashcard-inner">
                                <div class="flashcard-front">
                                    <span class="term" id="review-term">Loading...</span>
                                    <button class="speak-btn" id="speak-review-term" title="Hear pronunciation" aria-label="Hear term pronunciation">üîà</button>
                                </div>
                                <div class="flashcard-back">
                                    <span class="meaning" id="review-meaning"></span>
                                    <span class="example" id="review-example"></span>
                                    <button class="speak-btn" id="speak-review-example" title="Hear example" aria-label="Hear example sentence">üîà</button>
                                </div>
                            </div>
                        </div>
                        <button class="flip-btn" id="flip-review">Show Answer</button>
                        <div class="rating-buttons hidden" id="rating-buttons">
                            <p>How'd you go with that one?</p>
                            <div class="rating-grid">
                                <button class="rating-btn rating-1" data-rating="1">No idea</button>
                                <button class="rating-btn rating-2" data-rating="2">Struggled</button>
                                <button class="rating-btn rating-3" data-rating="3">Got it</button>
                                <button class="rating-btn rating-4" data-rating="4">Easy</button>
                                <button class="rating-btn rating-5" data-rating="5">Nailed it!</button>
                            </div>
                        </div>
                    </div>

                    <div class="review-complete hidden" id="review-complete">
                        <h2>You're all done!</h2>
                        <p>Nice one! Come back tomorrow for more review.</p>
                        <button class="start-btn" id="back-to-stats">Check your stats</button>
                    </div>
                </div>
            </section>

            <!-- Achievements Mode -->
            <section id="achievements-mode" class="mode-section">
                <div class="achievements-container">
                    <h2>Your Progress</h2>

                    <div class="daily-challenge" id="daily-challenge">
                        <h3>üìÖ Today's Word</h3>
                        <div class="challenge-card" id="challenge-card">
                            <p class="challenge-term" id="challenge-term">Loading...</p>
                            <p class="challenge-hint">Learn this one today, mate!</p>
                            <button class="start-btn" id="learn-challenge">Let's learn it!</button>
                        </div>
                    </div>

                    <div class="level-progress">
                        <h3>Your Level</h3>
                        <div class="level-bar-container">
                            <div class="level-bar" id="level-progress-bar"></div>
                        </div>
                        <p class="level-info"><span id="xp-current">0</span> / <span id="xp-needed">100</span> XP to Level <span id="next-level">2</span></p>
                    </div>

                    <div class="badges-grid" id="badges-grid">
                        <!-- Badges populated by JS -->
                    </div>

                    <div class="favorites-section">
                        <h3>‚≠ê Your Faves (<span id="favorites-count">0</span>)</h3>
                        <div class="favorites-list" id="favorites-list">
                            <p class="no-favorites">No faves yet, mate! Hit the ‚òÜ on any card to save it here.</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="footer">
            <p>Slang Mate by <strong>Your Aussie Uncle</strong></p>
        </footer>
    </div>

    <script src="js/data.js"></script>
    <script src="js/sounds.js"></script>
    <script src="js/speech.js"></script>
    <script src="js/voicePractice.js"></script>
    <script src="js/darkMode.js"></script>
    <script src="js/gamification.js"></script>
    <script src="js/flashcards.js"></script>
    <script src="js/quiz.js"></script>
    <script src="js/fillBlank.js"></script>
    <script src="js/sentenceBuilder.js"></script>
    <script src="js/srs.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
